<!DOCTYPE html>
<html lang="pt-br">
	<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Fernando Soliva">

<meta name="generator" content="Hugo 0.65.3" />
<title>Caminho para certificação AWS Solutions Architect Associate - Pt.1</title>
<link rel="shortcut icon" href="https://fernandosoliva.com/images/favicon.ico">
<link rel="stylesheet" href="https://fernandosoliva.com/css/style.css">
<link rel="stylesheet" href="https://fernandosoliva.com/css/highlight.css">



<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">




<meta property="og:title" content="Caminho para certificação AWS Solutions Architect Associate - Pt.1" />
<meta property="og:description" content="Vamos aprender conceitos e realizar exercícios práticos de fixação." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://fernandosoliva.com/post/road-to-aws-saa-iam/" />
<meta property="article:published_time" content="2020-03-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-03-02T00:00:00+00:00" />


<meta itemprop="name" content="Caminho para certificação AWS Solutions Architect Associate - Pt.1">
<meta itemprop="description" content="Vamos aprender conceitos e realizar exercícios práticos de fixação.">
<meta itemprop="datePublished" content="2020-03-02T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-03-02T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1608">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Caminho para certificação AWS Solutions Architect Associate - Pt.1"/>
<meta name="twitter:description" content="Vamos aprender conceitos e realizar exercícios práticos de fixação."/>
<meta name="twitter:site" content="@https://www.twitter.com/fernandosolivas"/>


    </head>
<body>
    <nav class="main-nav">
	
		<a href='https://fernandosoliva.com'> <span class="arrow">←</span>Home</a>
	

	
 		<a href='/about/'>Sobre</a>
  	

	
</nav>

    <section id="wrapper">
        
        
<article class="post">
    <header>
        <h1>Caminho para certificação AWS Solutions Architect Associate - Pt.1</h1>
        <h2 class="subtitle">Vamos aprender conceitos e realizar exercícios práticos de fixação.</h2>
        <h2 class="headline">
        March 2, 2020
        <br>
        
        </h2>
    </header>
    <section id="post-body">
        <p>Esse é o primeiro post da trilha de estudo que irei seguir até meu certificado da AWS de Solutions Architect Associate. São notas e explicações que espero me ajudar até o momento da prova e espero que ajude outras pessoas também!</p>
<p><em>Se você não está familiarizado com AWS, esses posts podem te deixar um pouco confuso. Aconselho primeiramente acessar o curso gratuito da <a href="https://aws.amazon.com/pt/training/course-descriptions/cloud-practitioner-essentials/">AWS Cloud Practictioner</a></em></p>
<p>Para realizar qualquer passo de criação de acesso a serviços, você primeiramente terá que criar uma conta na AWS e acessar a o console de gerenciamento.</p>
<h4 id="identity-and-access-management-iam">Identity and Access Management (IAM)</h4>
<p>O primeiro serviço de estudo é o Identity and Access Management (IAM). Este serviço prove interface para administração de: usuários, grupos, funcões e políticas e tem as seguintes características:</p>
<ul>
<li>Controle centralizado da sua conta AWS</li>
<li>Acesso compartilhado da sua conta AWs</li>
<li>Permissões granulares</li>
<li>Federação de Identidade (Active Directory, Facebook, LinkedIn, etc.)</li>
<li>Autenticação Multi Fator (MFA)</li>
<li>Regras de rotação de senhas</li>
<li>Integração com muitos serviços da AWS</li>
<li><a href="https://www.pluralsight.com/paths/payment-card-industry-data-security-standard-pci-dss">PCI DSS Complience</a></li>
</ul>
<h2 id="entendendo-as-entidades">Entendendo as entidades</h2>
<p>O IAM possui 4 entidades de gerenciamento, são elas:</p>
<ul>
<li>Usuários</li>
<li>Grupos</li>
<li>Funcões</li>
<li>Políticas</li>
</ul>
<h2 id="usuário">Usuário</h2>
<p>Usuário final. Geralmente pessoas que acessam sua conta e serviços da AWS.</p>
<h2 id="grupos">Grupos</h2>
<p>Coletivo de usuários. Todos usuários do grupo irão herdar as permissões daquele grupo.</p>
<h2 id="funcões">Funcões</h2>
<p>Permite com que você delegue acesso a usuários ou serviços permitindo geração de credenciais temporárias para que você não precise compartilhar credenciais de longo prazo.</p>
<h2 id="políticas">Políticas</h2>
<p>Documentos que especificam permissões em um serviço. São em formato JSON e podem ser adicionados a entidades acima.</p>
<p>e.g</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;Version&#34;</span>: <span style="color:#e6db74">&#34;2012-10-17&#34;</span>,
    <span style="color:#f92672">&#34;Statement&#34;</span>: [
        {
            <span style="color:#f92672">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,
            <span style="color:#f92672">&#34;Action&#34;</span>: [
                <span style="color:#e6db74">&#34;cognito-identity:Describe*&#34;</span>,
                <span style="color:#e6db74">&#34;cognito-identity:Get*&#34;</span>
            ],
            <span style="color:#f92672">&#34;Resource&#34;</span>: <span style="color:#e6db74">&#34;*&#34;</span>
        }
    ]
}
</code></pre></div><h4 id="usuários">Usuários</h4>
<p>Como dito anteriormente, usuários são pessoas / aplicações que irão acessar seus recursos na AWS. Vamos criar nosso primeiro usuário! Primeiro vamos acessar o serviço IAM na AWS.</p>
<p><img src="/IAM.png" alt="iam-service-console"></p>
<p>Dentro do console iremos selecionar <em>Usuários no menu lateral esquerdo</em> e em <em>Criar usuário</em>, até chegar na imagem abaixo.</p>
<p><img src="/create-user-1.png" alt="create-user-1"></p>
<p>Observações sobre os items na imagem, acredito que todos os campos são alto explicativos porém vamos entrar em detalhes em <em>acesso programático</em> e <em>acesso ao console de gerenciamento da AWS</em>. Ambas as configurações são regováveis posteriormente.</p>
<p>Seguindo a criação de usuário, vamos associar permissões ao usuário através das <em>políticas</em>. Lembre-se que <em>todo usuário criado, não contém nenhum permissão por padrão</em>.</p>
<p>Existem três formas de se adicionar políticas ao usuário através de: Grupos, Cópia de um usuário já existente ou adicionar diretamente cada política no usuário.</p>
<p>Nesse momento iremos fazer a terceira opção, <em>adicionar diretamente ao usuário</em>. Selecione a terceira opção que aparecem na segunda etapa da criação do usuário e associe uma permissão. Para esse caso, selecione <em>AdministratorAccess</em>.</p>
<p><img src="/create-user-2.png" alt="attach-policy"></p>
<p>Clique em <em>Próximo: Tags</em> e associe uma tag de identificação. Tags são importantes para destacar e segmentar recursos. Futuramente, podemos criar alarmes por alguns fatores, um deles são as tags.</p>
<p><img src="/create-user-3.png" alt="attach-tag"></p>
<p>Clicando em <em>Próximo: Revisar</em> será possível ver todas as características do usuário que estamos criando. Clique em próximo e pronto, seu usuário foi criado!</p>
<p><img src="/create-user-5.png" alt="success"></p>
<p>Nesta última etapa a AWS te da algumas informações do usuário, como chave de acesso via CLI e/ou aplicações (Access Key e Secret Key), usuário e senha para acesso através do console e um link com instruções de acesso. Todas essas informações podem ser baixadas através de um CSV, clicando no botão <em>Fazer download .csv</em></p>
<p><em>ATENÇÃO:</em> As credenciais são imutáveis e senhas só podem serem lidas nesse momento, sendo assim, é importante que você baixe essas credenciais e faça um backup seguro desses dados. Caso mesmo assim você perca este backup é possível gerar novas chaves de acesso através do painel.</p>
<p>Busque o usuário que criamos e clique nele para editar.
<img src="/cred.png" alt="cred-1"></p>
<p>Vá até a aba <em>Credenciais de segurança</em> e no seção <em>Chaves de acesso</em> você pode tornar inativa a chave já existe e/ou criar uma outra. Lembre-se: Essas chaves de acesso são para utilização da AWS CLI e/ou aplicações.</p>
<p><img src="/cred-2.png" alt="cred-2"></p>
<p>Para redefinir senha, clique em <em>Gerenciar</em> na opção <em>Senha de console</em>.</p>
<h2 id="acesso-programático">Acesso Programático</h2>
<p>São credenciais de acesso para utilização da AWS CLI e/ou aplicações. É possível ter duas credenciais ativas por vez e sempre é possível expirar credenciais já existentes.</p>
<h2 id="acesso-ao-console-de-gerenciamento-da-aws">Acesso ao console de gerenciamento da AWS</h2>
<p>Diferente das credenciais de <em>Acesso Programático</em> essas informações servem para acesso através do console de gerenciamento da AWS. É possível forçar que o usuário altera a senha a qualquer momento.</p>
<p>*As credenciais de <em>Acesso Programático</em> e <em>Acesso ao console de gerenciamento da AWS</em> são informações diferentes e elas não se substituem, logo, não é possível utilizar <em>Access Key</em> e <em>Secret Key</em> para logar via console e nem <em>email</em> e <em>senha</em> para utilizar em CLI e aplicações.</p>
<h4 id="políticas-1">Políticas</h4>
<p>É possível também criar políticas customizadas. Vamos supor que eu queria que um usuário tenha somente acesso de leitura em um bucket chamado <em>road-to-saa</em> do <a href="https://aws.amazon.com/s3/">S3</a> e escrita em todos os tópicos do <a href="https://aws.amazon.com/sns">SNS</a>.</p>
<p>Vamos entrar no painel do IAM novamente e no menu lateral selecionar políticas. Você verá uma lista de todas as políticas já existentes na sua conta. Existem três tipos de políticas.</p>
<ul>
<li>Cliente Gerenciado: Políticas customizadas criadas por usuários da AWS.</li>
<li>Funções de Trabalho: Políticas pré definidas pela AWS que exemplificam funções de trabalho. Existem atualmente dez políticas pré definidas pela AWS.</li>
<li>Gerenciado pela AWS: Assim como funçoes de trabalho, são políticas gerenciadas pela AWS e elas exemplificam caso de usos de serviços. e.g: <em>AmazonS3ReadOnlyAccess: Provê acesso de leitura a todos os buckets da AWS via <em>Console de Gerenciamento</em></em></li>
</ul>
<p>Agora criaremos duas políticas, uma chamada <em>RoadToSAA-Bucket-ReadOnly</em> e outra <em>WriteAllTopics-SNS</em>.</p>
<p>Clique em <em>Criar Política</em>
<img src="/create-policy-1.png" alt="create-policy-1"></p>
<p>Escolha o <em>S3</em> na opção de serviço, selecione o checkbox <em>Leitura</em> da seção de <em>Ações</em>, em <em>Recursos</em> selecione bucket e clique em <em>Adicionar ARN</em> e digite o nome do nosso bucket <em>road-to-ssa</em> *
<img src="/create-policy-2.png" alt="create-policy-2"></p>
<p>Clique em <em>Revisar Política</em> e nesse momento e onde daremos o nome da nossa política.</p>
<p><img src="/create-policy-3.png" alt="create-policy-3"></p>
<p>Pronto, criamos a nossa primeira política. Iremos repetir os mesmos passos, porém escolheremos o serviço SNS e marcaremos o checkbox <em>Gravação</em>.</p>
<p>Temos nossas duas políticas criadas e agora iremos associar ao nosso usuário criado anteriormente.</p>
<p>Agora no Menu do IAM, selecione a opção <em>Usuários</em> no menu lateral, selecione o usuário criado anteriormente e na aba <em>Permissões</em> clique no botão <em>Adicionar permissões</em>. Iremos parar nessa página e selecionar a terceira opção: <em>Anexar políticas existentes de forma direta</em>.</p>
<p>Clique em <em>Filtrar políticas</em> e selecione <em>Cliente gerenciado</em>. Irá retonar todas as políticas criadas por usuários e não gerenciadas pela AWS. Selecione as duas <em>RoadToSAA-Bucket-ReadOnly</em> e <em>WriteAllTopics-SNS</em> e depois avance até o momento final de adição, clicando nos botões azuis.</p>
<p>Pronto! Temos nosso usuário com permissões limitadas de acesso em nosso bucket e no SNS. O mesmo pode ser feito para todos os outros recursos da AWS e usuários!</p>
<h4 id="grupos-1">Grupos</h4>
<p>Com grupos, conseguimos contextualizar usuários em grupos de acesso. Por exemplo, adicionar os gerentes da sua empresa como administradores para que eles possam ter autonomia de gerenciar seus respectivos times, ou, criar um grupo de DevOps onde eles terão acesso ilimitado a stack da sua empresa, podendo desenvolver e operacionar sua infra de forma ágil. Podemos usar nossa imaginação e pensar em vários casos onde a divisão faça sentido.</p>
<p>Assim como usuários, é possível definir políticas aos grupos e, obviamente, usuários.</p>
<p>No menu lateral clique na opção <em>Grupos</em> e em seguida <em>Criar novo grupo</em>. Escolha um nome para este grupo, no meu caso se chamará <em>developers</em> e em seguida as políticas desses usuários. No meu caso, irei associar <em>AWSCodePipelineFullAccess</em>, <em>AWSCodeCommitFullAccess</em> e <em>AWSCodeBuildDeveloperAccess</em>.</p>
<p>Clique em <em>Próxima etapa</em> no botão inferior e na você verá uma tela de revisão similar a esta.</p>
<p><img src="/create-policy-4.png" alt="create-policy-4"></p>
<p>Por fim clique em <em>Criar grupo</em>. Agora você será redirecionado para a home do menu de grupos. Selecione seu grupo criado e você verá uma tela e uma mensagem em destaque <em>Este grupo não contém nenhum usuário</em>. Clique no botão <em>Adicionar usuários ao grupo</em> e selecione o usuário anteriormente criado.</p>
<p><img src="/create-group.png" alt="create-group"></p>
<p>Pode ver que nessa mesma área, você consegue adicionar mais usuários ou remover usuários já existente nesses grupos.</p>
<h4 id="funções">Funções</h4>
<p>Como dito anteriormente, você pode configurar funções para que terceiros tenham acesso a sua conta da AWS e a seus recursos.</p>
<p>Existem 4 tipos de entidades de funções:</p>
<ul>
<li><em>Serviço da AWS</em>: <em>Dá permissão a um serviço executar ações em seu nome. e.g: Instância EC2 escreva em um bucket do S3.</em></li>
<li><em>Outra conta AWS</em>: <em>Dá permissão a uma outra conta executar ações na sua conta. e.g: Uma prestadora de serviço conectar a um banco do RDS de fora da sua conta.</em></li>
<li><em>Identidade da web</em>: <em>Permite que os usuários federados pela identidade da Web externa especificada ou pelo provedor OpenID Connect (OIDC) assumam essa função para executar ações em sua conta</em></li>
<li><em>Federação do SAML 2.0</em>: <em>Permite que os usuários que são federados com o SAML 2.0 assumam essa função para executar ações em sua conta</em></li>
</ul>
<p>O processo de adicionar políticas a funções é bem similar ao de adicionar à usuários, por isso não irei repetir os passos para ficarmos menos repetitivos.</p>
<h2 id="lembretes">Lembretes</h2>
<ul>
<li>IAM é global, ou seja, não tem região específica e um usuário, função, grupo ou política criado no IAM poderá acessar todas as regiões da AWS.</li>
<li>A conta &ldquo;root&rdquo; é a conta que foi criada a primeira vez. Essa conta tera acesso de Administrador completo (o famoso <em>God Mode</em>).</li>
<li>Usuários não tem permissões quando criados.</li>
<li>Usuários recem criados deverão ter acesso de console ou acesso programático.</li>
<li>Access Key ID e Secret Access e Usuário e senha não são a mesma coisa. Não é possível utilizar Acess Key e Secret Access para acessar via console, assim como não é possível usar email e senha para realizar acesso programático.</li>
<li>Sempre crie MFA na sua conta root. (Lembre de realizar um backup seguro do seu QRCode).</li>
<li>Customize rotações de senhas e critérios para criação de senhas.</li>
</ul>

    </section>
</article>

<footer id="post-meta" class="clearfix">
    <a href="https://twitter.com/fernandosolivas">
    <img class="avatar" src="https://fernandosoliva.com/images/avatar.png">
    <div>
        <span class="dark">Fernando Soliva</span>
        <span>Fernando Soliva - Desenvolvedor de Software</span>
    </div>
    </a>
    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=https%3a%2f%2ffernandosoliva.com%2fpost%2froad-to-aws-saa-iam%2f - Caminho%20para%20certifica%c3%a7%c3%a3o%20AWS%20Solutions%20Architect%20Associate%20-%20Pt.1 by @fernandosolivas"><span class="icon-twitter"> tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>

    </section>
</footer>



<ul id="post-list" class="archive readmore">
    <h3>Read more</h3>

    
    
    
        <li>
            <a href="https://fernandosoliva.com/post/personal-site-5-minutes/">Criando seu site em 5 minutos e de graça<aside class="dates">Feb 29 2020</aside></a>
        </li>
    
</ul>



        <footer id="footer">
    
        <div id="social">

	
	
    <a class="symbol" href="https://www.github.com/fernandosolivas">
        <i class="fa fa-github"></i>
    </a>
    
    <a class="symbol" href="https://www.linkedin.com/in/fernandosoliva/">
        <i class="fa fa-linkedin"></i>
    </a>
    
    <a class="symbol" href="https://dev.to/fernandosolivas">
        <i class="fa fa-medium"></i>
    </a>
    
    <a class="symbol" href="https://www.twitter.com/fernandosolivas">
        <i class="fa fa-twitter"></i>
    </a>
    


</div>

    
    <p class="small">
    
        © Copyright 2020 Fernando Soliva
    
    </p>
</footer>

    </section>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://fernandosoliva.com/js/main.js"></script>
<script src="https://fernandosoliva.com/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>





</body>
</html>
